<!doctype html>
<html lang="en">
<head>
<title>Welcome to Zilla!</title>
<script>
	function attachEventSource()
	{
		var location = document.getElementById('location');
		var messages = document.getElementById('messages');

		var es = new EventSource(location.value);
		es.onmessage = evt =>
		{
			var text = document.createTextNode(evt.data);
			var line = document.createElement("p");
			line.appendChild(text);

			messages.insertBefore(line, messages.firstChild);
		}
		es.onopen = evt => console.log(evt);
		es.onerror = evt => console.log(evt);
	}
</script>
</head>

<body>

<h3>Location</h3>
<input id="location"
       value="https://localhost:9090/events"
       style="width: 200px;">
<button onclick="javascript:attachEventSource()">Go</button>

<h3>Messages</h3>
<div id="messages" >
</div>

</body>

</html>